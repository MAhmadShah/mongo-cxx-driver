<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MongoDB C++ Driver: mongo::SaslClientSession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MongoDB C++ Driver<span id="projectnumber">&#160;legacy-0.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="classmongo_1_1SaslClientSession.html">SaslClientSession</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmongo_1_1SaslClientSession-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mongo::SaslClientSession Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of the client side of a SASL authentication conversation.  
 <a href="classmongo_1_1SaslClientSession.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="sasl__client__session_8h_source.html">sasl_client_session.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:abce7825cfb8a76588de10b45c13199df"><td class="memItemLeft" align="right" valign="top"><a id="abce7825cfb8a76588de10b45c13199df" name="abce7825cfb8a76588de10b45c13199df"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1SaslClientSession.html#abce7825cfb8a76588de10b45c13199df">Parameter</a> </td></tr>
<tr class="memdesc:abce7825cfb8a76588de10b45c13199df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifiers of parameters used to configure a <a class="el" href="classmongo_1_1SaslClientSession.html" title="Implementation of the client side of a SASL authentication conversation.">SaslClientSession</a>. <br /></td></tr>
<tr class="separator:abce7825cfb8a76588de10b45c13199df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8e0fbbc90f48ac5994268adef8b552a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1SaslClientSession.html#a8e0fbbc90f48ac5994268adef8b552a9">setParameter</a> (<a class="el" href="classmongo_1_1SaslClientSession.html#abce7825cfb8a76588de10b45c13199df">Parameter</a> id, const StringData &amp;value)</td></tr>
<tr class="memdesc:a8e0fbbc90f48ac5994268adef8b552a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the parameter identified by "id" to "value".  <br /></td></tr>
<tr class="separator:a8e0fbbc90f48ac5994268adef8b552a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a0cf2a97f38632d5e6b5cba1bd7776a"><td class="memItemLeft" align="right" valign="top"><a id="a7a0cf2a97f38632d5e6b5cba1bd7776a" name="a7a0cf2a97f38632d5e6b5cba1bd7776a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hasParameter</b> (<a class="el" href="classmongo_1_1SaslClientSession.html#abce7825cfb8a76588de10b45c13199df">Parameter</a> id)</td></tr>
<tr class="memdesc:a7a0cf2a97f38632d5e6b5cba1bd7776a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if "id" identifies a parameter previously set by a call to <a class="el" href="classmongo_1_1SaslClientSession.html#a8e0fbbc90f48ac5994268adef8b552a9" title="Sets the parameter identified by &quot;id&quot; to &quot;value&quot;.">setParameter()</a>. <br /></td></tr>
<tr class="separator:a7a0cf2a97f38632d5e6b5cba1bd7776a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb866789ad27ee7edc0cee87c876e6e"><td class="memItemLeft" align="right" valign="top">StringData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1SaslClientSession.html#a4bb866789ad27ee7edc0cee87c876e6e">getParameter</a> (<a class="el" href="classmongo_1_1SaslClientSession.html#abce7825cfb8a76588de10b45c13199df">Parameter</a> id)</td></tr>
<tr class="memdesc:a4bb866789ad27ee7edc0cee87c876e6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of a previously set parameter.  <br /></td></tr>
<tr class="separator:a4bb866789ad27ee7edc0cee87c876e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d7137b12dd30707e08cfca3254e573e"><td class="memItemLeft" align="right" valign="top">sasl_secret_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1SaslClientSession.html#a0d7137b12dd30707e08cfca3254e573e">getPasswordAsSecret</a> ()</td></tr>
<tr class="memdesc:a0d7137b12dd30707e08cfca3254e573e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of the parameterPassword parameter in the form of a sasl_secret_t, used by the Cyrus SASL library's SASL_CB_PASS callback.  <br /></td></tr>
<tr class="separator:a0d7137b12dd30707e08cfca3254e573e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11541ef09de1fc801e9e046aa153bdb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a6ee35cd59a3a5a21c98b430345c35401">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1SaslClientSession.html#a11541ef09de1fc801e9e046aa153bdb1">initialize</a> ()</td></tr>
<tr class="memdesc:a11541ef09de1fc801e9e046aa153bdb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a session for use.  <br /></td></tr>
<tr class="separator:a11541ef09de1fc801e9e046aa153bdb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5020c08dccace8f4bcf4ca28aff7279"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a6ee35cd59a3a5a21c98b430345c35401">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1SaslClientSession.html#ac5020c08dccace8f4bcf4ca28aff7279">step</a> (const StringData &amp;inputData, std::string *outputData)</td></tr>
<tr class="memdesc:ac5020c08dccace8f4bcf4ca28aff7279"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes one step of the SASL protocol on behalf of the client.  <br /></td></tr>
<tr class="separator:ac5020c08dccace8f4bcf4ca28aff7279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedefdd2b560d06b06686e57588404486"><td class="memItemLeft" align="right" valign="top"><a id="aedefdd2b560d06b06686e57588404486" name="aedefdd2b560d06b06686e57588404486"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isDone</b> () const</td></tr>
<tr class="memdesc:aedefdd2b560d06b06686e57588404486"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the authentication completed successfully. <br /></td></tr>
<tr class="separator:aedefdd2b560d06b06686e57588404486"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the client side of a SASL authentication conversation. </p>
<p>To use, create an instance, then use <a class="el" href="classmongo_1_1SaslClientSession.html#a8e0fbbc90f48ac5994268adef8b552a9" title="Sets the parameter identified by &quot;id&quot; to &quot;value&quot;.">setParameter()</a> to configure the authentication parameters. Once all parameters are set, call <a class="el" href="classmongo_1_1SaslClientSession.html#a11541ef09de1fc801e9e046aa153bdb1" title="Initializes a session for use.">initialize()</a> to initialize the client state machine. Finally, use repeated calls to <a class="el" href="classmongo_1_1SaslClientSession.html#ac5020c08dccace8f4bcf4ca28aff7279" title="Takes one step of the SASL protocol on behalf of the client.">step()</a> to generate messages to send to the server and process server responses.</p>
<p>The required parameters vary by mechanism, but all mechanisms require parameterServiceName, parameterServiceHostname, parameterMechanism and parameterUser. All of the required parameters must be UTF-8 encoded strings with no embedded NUL characters. The parameterPassword parameter is not constrained. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4bb866789ad27ee7edc0cee87c876e6e" name="a4bb866789ad27ee7edc0cee87c876e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bb866789ad27ee7edc0cee87c876e6e">&#9670;&#160;</a></span>getParameter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StringData mongo::SaslClientSession::getParameter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1SaslClientSession.html#abce7825cfb8a76588de10b45c13199df">Parameter</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value of a previously set parameter. </p>
<p>If parameter "id" was never set, returns an empty StringData. Note that a parameter may be explicitly set to StringData(), so use <a class="el" href="classmongo_1_1SaslClientSession.html#a7a0cf2a97f38632d5e6b5cba1bd7776a" title="Returns true if &quot;id&quot; identifies a parameter previously set by a call to setParameter().">hasParameter()</a> to distinguish those cases.</p>
<p>The session object owns the storage behind the returned StringData, which will remain valid until <a class="el" href="classmongo_1_1SaslClientSession.html#a8e0fbbc90f48ac5994268adef8b552a9" title="Sets the parameter identified by &quot;id&quot; to &quot;value&quot;.">setParameter()</a> is called with the same value of "id", or the session object goes out of scope. </p>

</div>
</div>
<a id="a0d7137b12dd30707e08cfca3254e573e" name="a0d7137b12dd30707e08cfca3254e573e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d7137b12dd30707e08cfca3254e573e">&#9670;&#160;</a></span>getPasswordAsSecret()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sasl_secret_t * mongo::SaslClientSession::getPasswordAsSecret </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value of the parameterPassword parameter in the form of a sasl_secret_t, used by the Cyrus SASL library's SASL_CB_PASS callback. </p>
<p>The session object owns the storage referenced by the returned sasl_secret_t*, which will remain in scope according to the same rules as given for <a class="el" href="classmongo_1_1SaslClientSession.html#a4bb866789ad27ee7edc0cee87c876e6e" title="Returns the value of a previously set parameter.">getParameter()</a>, above. </p>

</div>
</div>
<a id="a11541ef09de1fc801e9e046aa153bdb1" name="a11541ef09de1fc801e9e046aa153bdb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11541ef09de1fc801e9e046aa153bdb1">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a6ee35cd59a3a5a21c98b430345c35401">Status</a> mongo::SaslClientSession::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a session for use. </p>
<p>Call exactly once, after setting any parameters you intend to set via <a class="el" href="classmongo_1_1SaslClientSession.html#a8e0fbbc90f48ac5994268adef8b552a9" title="Sets the parameter identified by &quot;id&quot; to &quot;value&quot;.">setParameter()</a>. </p>

</div>
</div>
<a id="a8e0fbbc90f48ac5994268adef8b552a9" name="a8e0fbbc90f48ac5994268adef8b552a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e0fbbc90f48ac5994268adef8b552a9">&#9670;&#160;</a></span>setParameter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mongo::SaslClientSession::setParameter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1SaslClientSession.html#abce7825cfb8a76588de10b45c13199df">Parameter</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const StringData &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the parameter identified by "id" to "value". </p>
<p>The value of "id" must be one of the legal values of Parameter less than numParameters. May be called repeatedly for the same value of "id", with the last "value" replacing previous values.</p>
<p>The session object makes and owns a copy of the data in "value". </p>

</div>
</div>
<a id="ac5020c08dccace8f4bcf4ca28aff7279" name="ac5020c08dccace8f4bcf4ca28aff7279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5020c08dccace8f4bcf4ca28aff7279">&#9670;&#160;</a></span>step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a6ee35cd59a3a5a21c98b430345c35401">Status</a> mongo::SaslClientSession::step </td>
          <td>(</td>
          <td class="paramtype">const StringData &amp;&#160;</td>
          <td class="paramname"><em>inputData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>outputData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes one step of the SASL protocol on behalf of the client. </p>
<p>Caller should provide data from the server side of the conversation in "inputData", or an empty StringData() if none is available. If the client should make a response to the server, stores the response into "*outputData".</p>
<p>Returns Status::OK() on success. Any other return value indicates a failed authentication, though the specific return value may provide insight into the cause of the failure (e.g., ProtocolError, AuthenticationFailed).</p>
<p>In the event that this method returns Status::OK(), consult the value of <a class="el" href="classmongo_1_1SaslClientSession.html#aedefdd2b560d06b06686e57588404486" title="Returns true if the authentication completed successfully.">isDone()</a> to determine if the conversation has completed. When <a class="el" href="classmongo_1_1SaslClientSession.html#ac5020c08dccace8f4bcf4ca28aff7279" title="Takes one step of the SASL protocol on behalf of the client.">step()</a> returns Status::OK() and <a class="el" href="classmongo_1_1SaslClientSession.html#aedefdd2b560d06b06686e57588404486" title="Returns true if the authentication completed successfully.">isDone()</a> returns true, authentication has completed successfully. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/mongo/client/<a class="el" href="sasl__client__session_8h_source.html">sasl_client_session.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
